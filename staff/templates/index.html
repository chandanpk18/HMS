<!DOCTYPE html>
<html>

<head>
  {% load static %}
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="">

  <title> HMS </title>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

  <!--owl slider stylesheet -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />


  <!-- Custom styles for this template -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet" />
  <!-- responsive style -->
  <link href="{% static 'css/responsive.css' %}" rel="stylesheet" />
<style>
  .back-to-top {
  position: fixed;
  bottom: 20px;
  right: 30px;
  display: none;
  font-size: 18px;
  background-color: #555;
  color: white;
  border: none;
  border-radius: 50%;
  padding: 10px 15px;
  cursor: pointer;
  z-index: 1000;
}

.back-to-top:hover {
  background-color: #333;
}
 table {
      border: 1px solid #ddd;
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #f2f2f2;
    }
</style>
  <script>
window.onscroll = function() {
  var backToTopBtn = document.getElementById("backToTopBtn");
  if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
    backToTopBtn.style.display = "block";
  } else {
    backToTopBtn.style.display = "none";
  }
};

function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
 table {
      border: 1px solid #ddd;
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #f2f2f2;
    }
  </script>
</head>

<body>
<button id="backToTopBtn" class="back-to-top" onclick="scrollToTop()">
  &#8679;
</button>

  <div class="hero_area">

    <div class="hero_bg_box">
      <img src="{% static 'images/hero-bg.png' %}" alt="">
    </div>

    <!-- header section strats -->
    <header style="display:fixed;" class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="{% url 'index' %}">
            <span>
              Vidya Hospital
            </span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class=""></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="#1"> About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#2">Departments</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="help">Contact Us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#4">Appointment</a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="#5">Patient details</a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="{% url 'login' %}">Staff Login</span></a>
              </li>
            </ul>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->
    <!-- slider section -->
    <section class="slider_section ">
      <div id="customCarousel1" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="container ">
              <div class="row">
                <div class="col-md-7">
                  <div class="detail-box">
                    <h1>
                      We Provide Best Healthcare
                    </h1>
                    <p>Ensuring quality healthcare services for our patients.</p>

                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="carousel-item ">
            <div class="container ">
              <div class="row">
                <div class="col-md-7">
                  <div class="detail-box">
                    <h1>Advanced Medical Facilities</h1>
                    <p>State-of-the-art medical facilities and equipment.</p>

                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="carousel-item">
            <div class="container ">
              <div class="row">
                <div class="col-md-7">
                  <div class="detail-box">
                    <h1>Qualified Medical Professionals</h1>
                    <p>Our team of highly qualified doctors and nurses.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <ol class="carousel-indicators">
          <li data-target="#customCarousel1" data-slide-to="0" class="active"></li>
          <li data-target="#customCarousel1" data-slide-to="1"></li>
          <li data-target="#customCarousel1" data-slide-to="2"></li>
        </ol>
      </div>

    </section>
    <!-- end slider section -->
  </div>


  <!-- department section -->

  <section id="2" class="department_section layout_padding">
    <div class="department_container">
      <div class="container ">
        <div class="heading_container heading_center">
          <h2>
            Our Departments
          </h2>
          <p>
            Asperiores sunt consectetur impedit nulla molestiae delectus repellat laborum dolores doloremque accusantium
          </p>
        </div>
        <div class="row">
          <div class="col-md-3">
            <div class="box ">
              <div class="img-box">
                <img src="{% static 'images/s4.png'%}" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Emergency & FirstAid
                </h5>
                <p>
                  fact that a reader will be distracted by the readable page when looking at its layout.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="box ">
              <div class="img-box">
                <img src="{% static 'images/s2.png' %}" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Diagnosis
                </h5>
                <p>
                  fact that a reader will be distracted by the readable page when looking at its layout.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="box ">
              <div class="img-box">
                <img src="{% static 'images/s3.png' %}" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Surgery
                </h5>
                <p>
                  fact that a reader will be distracted by the readable page when looking at its layout.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="box ">
              <div class="img-box">
                <img src="{% static 'images/s1.png' %}" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Cardiology
                </h5>
                <p>
                  fact that a reader will be distracted by the readable page when looking at its layout.
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="btn-box">
          <a href="{% url 'doctors' %}">
            View All
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- end department section -->

  <!-- about section -->

  <section id="1" class="about_section layout_margin-bottom">
    <div class="container  ">
      <div class="row">
        <div class="col-md-7">
          <div class="map_container">
            <div class="map">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3898.183468699294!2d76.71137060000002!3d12.303428299999997!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3baf71db4c524607%3A0x7e780eb984e2af47!2sVidya%20Vikas%20Institute%20of%20Engineering%20%26%20Technology!5e0!3m2!1sen!2sin!4v1685084510533!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
          </div>
        </div>
        <div class="col-md-5">
          <div class="detail-box">
            <div class="heading_container">
              <h2>
                About <span>Us</span>
              </h2>
            </div>
            <p>
              There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration
              in some form, by injected humour, or randomised words which don't look even slightly believable. If you
              are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in
              the middle of text. All
            </p>
            <a href="">
              Read More
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end about section -->
<section id="4" class="contact_section layout_padding">
    <div class="container">
        <div class="heading_container">
            <h2>Appointment Section</h2>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div>
                    <h3>Book New Appointment</h3>
                </div>
                <div class="form_container contact-form">
                    <form id="appointmentForm" method="POST" action="{% url 'book_appointment' %}">
                        {% csrf_token %}
                        <div class="form-row">
                            <div class="col-lg-6">
                                <input type="text" name="name" placeholder="Your Name" required>
                            </div>
                            <div class="col-lg-6">
                                <input type="text" name="phone_number" placeholder="Phone Number" required>
                            </div>
                        </div>
                        <div>
                            <input type="email" name="email" placeholder="Email" required>
                        </div>
                        <div class="form-row">
                            <select name="doctor" id="doctor" required>
                                <option value="">Select Doctor</option>
                                {% for doctor in doctors %}
                                    <option value="{{ doctor.id }}">
                                        {{ doctor.user.username }}{% if doctor.department %} ({{ doctor.department.name }}){% endif %}
                                    </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="btn-box">
                            <button type="submit" class="btn btn-success btn-block">SEND</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-md-6">
    <div>
        <h3>Check Appointment Status</h3>
    </div>
    <div class="form_container contact-form">
        <form action="{% url 'check_status' %}" method="POST">
            {% csrf_token %}
            <div class="form-row">
                <div class="col-lg-6">
                    <input type="text" name="name" placeholder="Your Name" required />
                </div>
                <div class="col-lg-6">
                    <input type="text" name="phone_number" placeholder="Phone Number" required />
                </div>
            </div>
            <div class="btn_box">
                <button type="submit" class="btn btn-info">Get Data</button>
            </div>
        </form>
    </div>
    <div id="appointment-details">
        <table id="appointment-table" class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Appointment Date</th>
                    <th>Doctor</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="appointment-table-body">
                {% for appointment in appointments %}
                <tr>
                    <td>{{ appointment.name }}</td>
                    <td>{{ appointment.appointment_date }}</td>
                    <td>{{ appointment.doctor.user.username }}</td>
                    <td>{{ appointment.status }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

    </div> </div>
</section>

    <!-- End Appointment Section -->
    <!-- Patient Details Section -->
<!-- Patient Details Section -->
<section id="5" class="about_section layout_padding">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="detail-box">
          <div class="heading_container">
            <h2>Patient Details</h2>
          </div>
          <form id="patient-form" method="GET" action="{% url 'patient_details' %}">
            <label for="patient_id">Enter Patient ID:</label>
            <input type="text" id="patient_id" name="patient_id" required>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
          <div id="patient-details">
            <table id="patient-table" class="table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Admission Date</th>
                  <th>Gender</th>
                  <th>Department</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="patient-table-body">
                <!-- This will be populated by JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Include Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<!-- AJAX script to fetch patient details -->
<script>
  $(document).ready(function() {
    $('#patient-form').submit(function(e) {
      e.preventDefault();
      var patient_id = $('#patient_id').val();
      $.ajax({
        url: "{% url 'patient_details' %}",
        data: {
          'patient_id': patient_id
        },
        success: function(data) {
          if (data.error) {
            alert(data.error);
            return;
          }
          var tableBody = $('#patient-table-body');
          tableBody.empty();
          tableBody.append('<tr><td>' + data.name + '</td><td>' + data.admission_date + '</td><td>' + data.gender + '</td><td>' + data.department + '</td><td>' + data.status + '</td></tr>');
        }
      });
    });
  });
</script>

    <!-- End Patient Details Section -->


  <!-- jQery -->
  <script type="text/javascript" src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
  <!-- popper js -->
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <!-- bootstrap js -->
  <script type="text/javascript" src="{% static 'js/bootstrap.js' %}"></script>
  <!-- owl slider -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>
  <!-- custom js -->
  <script type="text/javascript" src="{% static 'js/custom.js' %}"></script>

</body>

</html>